{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CareCompass</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Embedded CSS -->
  <style>
    :root {
      --cc-primary:#6d28d9;
      --cc-secondary:#2563eb;
      --cc-accent:#22c55e;
      --cc-dark:#0b1220;
      --glass-bg: rgba(255,255,255,.14);
      --glass-brd: rgba(255,255,255,.35);
    }

    *{box-sizing:border-box}
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
      color:#0f172a;
      background: radial-gradient(1200px 600px at 20% -10%, #9d7cf4 0%, transparent 60%),
                  radial-gradient(900px 500px at 110% 10%, #64b5ff 0%, transparent 60%),
                  linear-gradient(180deg, #0b1120 0%, #0f172a 100%);
      min-height:100vh;
      position:relative;
      overflow-x:hidden;
    }

    /* animated gradient veil */
    .bg-veil:before{
      content:"";
      position:fixed; inset:-20vmax;
      background: conic-gradient(from 0deg, #6d28d9, #2563eb, #22c55e, #06b6d4, #f43f5e, #6d28d9);
      filter: blur(120px) opacity(.18);
      animation: spin 18s linear infinite;
      z-index:-2;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* subtle grid */
    .grid-overlay:after{
      content:"";
      position:fixed; inset:0; pointer-events:none;
      background-image: radial-gradient(rgba(255,255,255,.08) 1px, transparent 1px);
      background-size: 22px 22px;
      mask-image: linear-gradient(180deg, transparent, rgba(0,0,0,.65), transparent);
      z-index:-1;
    }

    /* Navbar */
    .cc-navbar{
      background: linear-gradient(90deg, rgba(13,23,43,.6), rgba(22,28,48,.6));
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,.12);
    }
    .navbar-brand{
      color:#fff!important; font-weight:800; letter-spacing:.3px;
      display:flex; align-items:center; gap:.5rem;
    }
    .navbar-brand .logo-dot{
      width:10px; height:10px; border-radius:50%;
      background: linear-gradient(135deg, var(--cc-accent), #a7f3d0);
      box-shadow:0 0 12px #22c55e;
    }
    .nav-link{color:#e5e7eb!important; opacity:.9}
    .nav-link:hover{opacity:1;text-decoration:underline}

    /* Section helpers */
    .section-spacer{padding:60px 0}
    .heading{
      color:#f8fafc; text-align:center; font-weight:800;
      letter-spacing:.2px;
      text-shadow: 0 6px 24px rgba(0,0,0,.25);
    }
    .subtext{
      color:#cbd5e1; text-align:center; max-width:820px; margin:10px auto 40px;
    }

    /* Glass cards */
    .glass{
      background: var(--glass-bg);
      border:1px solid var(--glass-brd);
      box-shadow: 0 20px 50px rgba(0,0,0,.28);
      border-radius:18px;
      transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
    }
    .glass:hover{ transform: translateY(-6px) }
    .icon-pill{
      width:56px; height:56px; border-radius:14px;
      display:grid; place-items:center; color:#fff; font-size:22px;
      background: linear-gradient(135deg, var(--cc-secondary), var(--cc-primary));
      box-shadow: 0 10px 26px rgba(37,99,235,.45);
    }

    /* Steps */
    .step-badge{
      width:64px; height:64px; border-radius:50%;
      display:grid; place-items:center; color:#0b1120; font-weight:800;
      background:linear-gradient(135deg,#a7f3d0,#22c55e);
      box-shadow:0 10px 30px rgba(34,197,94,.35);
      border:2px solid #d1fae5;
    }

    /* CTA */
    .cta{
      background: linear-gradient(135deg, #2563eb 0%, #6d28d9 50%, #22c55e 100%);
      color:#fff; border-radius:24px; padding:46px 28px;
      box-shadow: 0 25px 60px rgba(0,0,0,.35);
    }
    .btn-neo{
      border-radius:999px; padding:12px 26px; font-weight:700;
      border:1px solid rgba(255,255,255,.6);
      color:#0b1120; background:#fff;
      box-shadow: 0 6px 22px rgba(255,255,255,.25);
    }
    .btn-neo-outline{
      border-radius:999px; padding:12px 26px; font-weight:700;
      border:1px solid rgba(255,255,255,.7); color:#fff; background:transparent;
    }
    .btn-neo:hover{filter:brightness(1.06)}
    .btn-neo-outline:hover{background:rgba(255,255,255,.12)}

    /* Forms (login/register) */
    .auth-wrap{max-width:720px;margin:0 auto}
    .auth-card{
      padding:34px; border-radius:22px;
      background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.10));
      border:1px solid rgba(255,255,255,.35);
      box-shadow:0 30px 70px rgba(0,0,0,.35);
      color:#e5e7eb;
    }
    .form-label{font-weight:700;color:#e2e8f0}
    .form-control{
      background: rgba(255,255,255,.9); border-radius:14px;
      border:1px solid #e2e8f0; padding:12px 14px;
    }
    .form-control:focus{
      border-color:#60a5fa; box-shadow:0 0 0 4px rgba(96,165,250,.25);
    }
    .auth-title{color:#f1f5f9; font-weight:900}

    /* Messages */
    .messages{list-style:none;padding-left:0;margin-bottom:1rem}
    .messages li{padding:.6rem .9rem;border-radius:.75rem;margin:.35rem 0;font-weight:600}
    .messages .success{background:#dcfce7;color:#166534}
    .messages .info{background:#e0f2fe;color:#075985}
    .messages .warning{background:#fef9c3;color:#854d0e}
    .messages .error{background:#fee2e2;color:#991b1b}
  </style>
</head>
<body class="bg-veil grid-overlay">

<nav class="navbar navbar-expand-lg cc-navbar sticky-top">
  <div class="container">
    <a class="navbar-brand" href="/"><span class="logo-dot"></span> CareCompass</a>
    <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#ccNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="ccNav">
      <ul class="navbar-nav ms-auto align-items-lg-center">
        <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'report_list' %}">Report</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'leaderboard' %}">Leaderboard</a></li>
        {% if user.is_authenticated %}
          <li class="nav-item"><a class="nav-link" href="{% url 'dashboard' %}">{{ user.username }}</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'profile' %}">Profile</a></li>
          <li class="nav-item">
            <form action="{% url 'logout' %}" method="post" style="display:inline;">{% csrf_token %}
            <button type="submit" class="btn btn-danger">Logout</button>
            </form>

          </li>
        {% else %}
          <li class="nav-item"><a class="nav-link" href="{% url 'login' %}">Login</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'register' %}">Register</a></li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<main>
  <div class="container pt-3">
    {% if messages %}
      <ul class="messages">
        {% for m in messages %}
          <li class="{{ m.tags }}">{{ m }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>
  {% block content %}{% endblock %}
</main>

<footer class="mt-5">
  <div class="container py-4 text-center text-white-50">
    <div class="fw-bold text-white mb-1"><i class="bi bi-compass"></i> CareCompass</div>
    <small>© 2025 CareCompass — See Someone, Help Someone.</small>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>